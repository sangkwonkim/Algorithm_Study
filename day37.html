<html>
  <head>
    <meta charset="UTF-8" />
    <title>연속 부분수열 출력결과</title>
  </head>
  <body>
    <script>
      function solution(m, arr) {
        // 첫번째 인자로 특정 숫자가 들어오고, 두번째 인자로 수열이 입력됨
        // 연속부분수열의 합이 특정숫자 m이 되는 경우가 몇 번있는 지 리턴
        // 1. arr의 0번째부터 순회한다
        // 2. 1 다음 수부터 순회를 한다
        // 3. 2를 순회하면서 다음 숫자들을 더하는데, 여기에서 m이 되면 count++ 한다
        // let answer = 0;
        // for (let n = 0; n < arr.length; n++) {
        //   let count = arr[n];
        //   for (let i = n + 1; i < arr.length; i++) {
        //     count += arr[i];
        //     if (count === m) {
        //       answer++;
        //       break;
        //     } else if (count > m) {
        //       break;
        //     }
        //   }
        // }
        // return answer;
        // two Pointer 알고리즘 1
        // let answer = 0;
        // let p1 = 0;
        // let p2 = 0;
        // let count = arr[p1];
        // while (p1 < arr.length && p2 < arr.length) {
        //   if (count === m) {
        //     answer++;
        //     p1++;
        //     p2 = p1 + 1;
        //     count = arr[p1] + arr[p2];
        //   } else if (count > m) {
        //     p1++;
        //     p2 = p1 + 1;
        //     count = arr[p1] + arr[p2];
        //   } else {
        //     p2++;
        //     count += arr[p2];
        //   }
        // }
        // return answer;

        // two Pointer 알고리즘 2
        // let answer = 0;
        // let p1 = 0; // count가 m이랑 같거나 m보다 클 경우, count에서 빼기할 요소의 인덱스
        // let p2 = 0; // count가 m보다 작을 경우, count에 더할 요소의 인덱스
        // ex)
        // arr = [1, 3, 1, 1], 목표 숫자 5
        // count = 1은 5보다 작음 => 그래서 p2++해서 p2는 1이 됨
        // 그러면 1 + arr[p2] => 1 + 3 => 4
        // count = 4는 5보다 작음 => 그래서 p2++해서 p2는 2가 됨
        // 그러면 4 + arr[p2] => 4 + 1 => 5
        // 목표 숫자와 동일하면, p1을 count에서 차감하고 p1++을 한다
        // count -= arr[p1] => count -= 1, count는 4가, p1은 1이 됨
        // let count = arr[p2];
        // while (p2 < arr.length) {
        //   if (count === m) {
        //     p1++;
        //     count -= arr[p1];
        //     answer++;
        //   } else if (count > m) {
        //     p1++;
        //     count -= arr[p1];
        //   } else {
        //     p2++;
        //     count += arr[p2];
        //   }
        // }
        // return answer;

        // 다른 케이스
        let p1 = 0;
        let answer = 0;
        let count = 0;
        for (let p2 = 0; p2 < arr.length; p2++) {
          count += arr[p2];
          if (count === m) {
            answer++;
          }
          while (count >= m) {
            sum -= arr[p1];
            p1++;
            if (count === m) {
              answer++;
            }
          }
        }
      }

      let a = [1, 2, 1, 3, 1, 1, 1, 2];
      console.log(solution(6, a));
    </script>
  </body>
</html>
