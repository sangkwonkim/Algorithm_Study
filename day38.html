<html>
  <head>
    <meta charset="UTF-8" />
    <title>연속 부분수열 2 출력결과</title>
  </head>
  <body>
    <script>
      function solution(m, arr) {
        // 첫번째 인자로 특정 숫자가 들어오고, 두번째 인자로 수열이 입력됨
        // 연속부분수열의 합이 특정숫자 m의 이하가 되는 경우 횟수를 리턴
        // let answer = 0;
        // for (let n = 0; n < arr.length; n++) {
        //   let count = arr[n];
        //   if (count <= m) answer++;
        //   for (let i = n + 1; i < arr.length; i++) {
        //     count += arr[i];
        //     if (count <= m) {
        //       answer++;
        //     } else {
        //       break;
        //     }
        //   }
        // }
        // return answer;

        // two pointer 알고리즘
        let answer = 0;
        let p1 = 0;
        let sum = 0;
        for (let p2 = 0; p2 < arr.length; p2++) {
          sum += arr[p2];
          while (sum > m) {
            sum -= arr[p1];
            p1++;
          }
          answer = answer + p2 - p1 + 1;
          // arr[p2] = 1 => 1개
          // arr[p2] = 3 => 2개 1, 3 && 3
          // arr[p2] => 1 => 3개 1, 3, 1 && 3, 1 && 1
          // 총 6가지
          // sum > m일 경우, p1에서 p2까지 만들어질 수 있는 부분수열의 갯수는
          // 위와 같이 계산됨
        }
        return answer;
      }

      let a = [1, 3, 1, 2, 3];
      console.log(solution(5, a));
    </script>
  </body>
</html>
